From: Punit Agrawal <punitagrawal@gmail.com>
Date: Mon, 24 Mar 2014 15:08:36 +0000
Subject: Introduce globash for global

---
 doc/global.info |  4 ++++
 doc/global.texi |  7 +++++++
 globash         |  3 +++
 globash.1       | 33 +++++++++++++++++++++++++++++++++
 globash.rc      |  3 ++-
 5 files changed, 49 insertions(+), 1 deletion(-)
 create mode 100644 globash
 create mode 100644 globash.1

diff --git a/doc/global.info b/doc/global.info
index f98b812..49fd32f 100644
--- a/doc/global.info
+++ b/doc/global.info
@@ -548,6 +548,10 @@ invoke Bash(1) with `--rcfile' option.
 
          $ bash --rcfile /usr/local/share/gtags/globash.rc
 
+   On Debian systems you may instead simply invoke globash(1).
+
+         $ globash
+
    You will see a prompt like this:
 
          [/usr/src/sys]/kern _
diff --git a/doc/global.texi b/doc/global.texi
index c508267..1640c4d 100644
--- a/doc/global.texi
+++ b/doc/global.texi
@@ -647,6 +647,13 @@ And you can invoke Bash(1) with @samp{--rcfile} option.
 
 @end example
 
+On Debian systems you may instead simply invoke globash(1).
+@example
+
+    $ globash
+
+@end example
+
 You will see a prompt like this:
 @example
 
diff --git a/globash b/globash
new file mode 100644
index 0000000..46f050c
--- /dev/null
+++ b/globash
@@ -0,0 +1,3 @@
+#! /bin/sh
+exec bash --rcfile /etc/globash.rc
+
diff --git a/globash.1 b/globash.1
new file mode 100644
index 0000000..b6becda
--- /dev/null
+++ b/globash.1
@@ -0,0 +1,33 @@
+.TH GLOBASH 1 "6 August 2005" "Debian GNU/Linux" "GLOBAL Utilities"
+.\" Copyright (c) 2005  Ron Lee.  All rights reserved.
+.\" This text may be distributed under the same terms as the GLOBAL source.
+.\" All copies of this manual must acknowledge the author and include the
+.\" above copyright statement.
+.\"
+.SH NAME
+globash \- invoke a GLOBAL shell environment.
+.SH SYNOPSIS
+.B globash
+.SH "DESCRIPTION"
+.B globash
+is a \fBbash\fP shell enviroment that provides easy access to \fBGLOBAL\fP
+data about a project.  More information about its use is available in the
+\fIglobal.info\fP documentation, and from \fBglobash\fP itself at any time
+with the \fBghelp\fP command that is available from inside it.
+.SH OPTIONS
+There are no options.  Or blue pills.
+Just a simple shortcut to a bigger shell game.
+.SH FILES
+.I /etc/globash.rc
+\- where all the real machinery lives.
+.SH BUGS
+As a wrapper \fBglobash\fP gets to inherit bugs from other software too.
+But its hardly big enough to have many on its own.
+.SH "SEE ALSO"
+.BR gtags (1), " global" (1), " htmake" (1), " htags" (1),
+.br
+and the \fBglobal\fP info documentation.
+.SH AUTHOR
+Ron Lee <ron@debian.org>, wrote this manpage, added the \fBglobash\fP wrapper,
+and made a few minor tweaks to the \fIglobash.rc\fP file which does all the
+real work and was written by Shigio Yamaguchi.
diff --git a/globash.rc b/globash.rc
index 801af4c..07d9d52 100644
--- a/globash.rc
+++ b/globash.rc
@@ -28,8 +28,9 @@
 #
 # [/usr/src/sys] ghelp<RET>
 #
+
 bash_minorversion=$(echo ${BASH_VERSINFO[1]} | sed 's/[^0-9]//')
-if !(( BASH_VERSINFO[0] > 2 || BASH_VERSINFO[0] == 2 && 10#${bash_minorversion} >= 4 )); then
+if ! (( BASH_VERSINFO[0] > 2 || BASH_VERSINFO[0] == 2 && 10#${bash_minorversion} >= 4 )); then
 	echo "GLOBASH ERROR: GloBash needs Bash version 2.04 or later."
 	exit 1
 fi
